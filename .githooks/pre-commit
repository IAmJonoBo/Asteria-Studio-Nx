#!/usr/bin/env bash
# Pre-commit hook: run format, lint, and typecheck before commit
# Install: git config core.hooksPath .githooks

set -e

ROOT_DIR="$(pwd)"

if [[ ! -f "${ROOT_DIR}/package.json" ]]; then
  echo "Repo root missing; skipping checks." >&2
  exit 0
fi

echo "Running pre-commit checks..."

cd "${ROOT_DIR}"

echo "Checking formatting..."
pnpm run format

echo "Running ESLint..."
pnpm run lint

echo "Type checking..."
pnpm run typecheck

echo "âœ“ All pre-commit checks passed!"
